# User Schema Definitions
# User-Service DTOs

# Request DTOs

CreateUserRequest:
  type: object
  required:
    - email
    - username
  properties:
    email:
      type: string
      format: email
      description: User email address
      example: "user@example.com"
    username:
      type: string
      minLength: 3
      maxLength: 50
      pattern: "^[a-zA-Z0-9_-]+$"
      description: Unique username (alphanumeric, underscore, hyphen)
      example: "johndoe"
    displayName:
      type: string
      maxLength: 100
      description: Display name
      example: "John Doe"
    avatarUrl:
      type: string
      maxLength: 500
      format: uri
      description: Avatar image URL
      example: "https://example.com/avatar.jpg"
    phone:
      type: string
      description: Phone number
      example: "+1234567890"
    timezone:
      type: string
      description: User timezone (IANA format)
      example: "America/New_York"
    locale:
      type: string
      description: Preferred locale
      example: "en-US"

UpdateUserRequest:
  type: object
  properties:
    displayName:
      type: string
      maxLength: 100
      description: Display name
      example: "John D. Doe"
    avatarUrl:
      type: string
      maxLength: 500
      format: uri
      description: Avatar image URL
    phone:
      type: string
      description: Phone number
    timezone:
      type: string
      description: User timezone (IANA format)
    locale:
      type: string
      description: Preferred locale

UpdateProfileRequest:
  type: object
  properties:
    title:
      type: string
      maxLength: 100
      description: Job title
      example: "Senior Software Engineer"
    department:
      type: string
      maxLength: 100
      description: Department
      example: "Engineering"
    location:
      type: string
      maxLength: 100
      description: Location
      example: "San Francisco, CA"
    bio:
      type: string
      maxLength: 1000
      description: User biography
      example: "Passionate about building scalable systems."
    customStatus:
      type: string
      maxLength: 200
      description: Custom status text
      example: "In a meeting"
    statusEmoji:
      type: string
      maxLength: 10
      description: Status emoji
      example: "ðŸ“…"
    statusExpiry:
      type: string
      format: date-time
      description: When the status expires
    pronouns:
      type: string
      description: User pronouns
      example: "he/him"
    birthday:
      type: string
      format: date-time
      description: Birthday
    linkedinUrl:
      type: string
      format: uri
      description: LinkedIn profile URL
      example: "https://linkedin.com/in/johndoe"
    twitterUrl:
      type: string
      format: uri
      description: Twitter profile URL
      example: "https://twitter.com/johndoe"
    githubUrl:
      type: string
      format: uri
      description: GitHub profile URL
      example: "https://github.com/johndoe"

UpdatePreferencesRequest:
  type: object
  properties:
    # Notification settings
    pushEnabled:
      type: boolean
      description: Enable push notifications
    emailEnabled:
      type: boolean
      description: Enable email notifications
    smsEnabled:
      type: boolean
      description: Enable SMS notifications
    desktopNotifications:
      type: boolean
      description: Enable desktop notifications
    soundEnabled:
      type: boolean
      description: Enable notification sounds
    quietHoursStart:
      type: string
      format: time
      description: Start of quiet hours (HH:mm:ss)
      example: "22:00:00"
    quietHoursEnd:
      type: string
      format: time
      description: End of quiet hours (HH:mm:ss)
      example: "08:00:00"
    quietHoursEnabled:
      type: boolean
      description: Enable quiet hours
    # Display settings
    theme:
      type: string
      description: UI theme
      example: "dark"
    language:
      type: string
      description: Preferred language
      example: "en"
    compactMode:
      type: boolean
      description: Enable compact mode
    sidebarCollapsed:
      type: boolean
      description: Collapse sidebar by default
    showUnreadOnly:
      type: boolean
      description: Show only unread items
    # Message settings
    messagePreview:
      type: boolean
      description: Show message preview in notifications
    enterToSend:
      type: boolean
      description: Press Enter to send messages
    markdownEnabled:
      type: boolean
      description: Enable markdown in messages
    emojiSuggestionsEnabled:
      type: boolean
      description: Enable emoji suggestions
    # Privacy settings
    showOnlineStatus:
      type: boolean
      description: Show online status to others
    showTypingIndicator:
      type: boolean
      description: Show typing indicator to others
    showReadReceipts:
      type: boolean
      description: Show read receipts to others
    # Accessibility settings
    reducedMotion:
      type: boolean
      description: Reduce motion/animations
    highContrast:
      type: boolean
      description: Enable high contrast mode
    fontSize:
      type: integer
      minimum: 10
      maximum: 24
      description: Font size
      example: 14
    # Custom settings
    customSettings:
      type: object
      additionalProperties: true
      description: Custom key-value settings

# Response DTOs

# Compact user profile for embedding in other objects
UserProfile:
  type: object
  description: Compact user profile for embedding in messages, channels, etc.
  properties:
    id:
      type: string
      format: uuid
      example: "550e8400-e29b-41d4-a716-446655440000"
    username:
      type: string
      example: "johndoe"
    displayName:
      type: string
      example: "John Doe"
    avatarUrl:
      type: string
      format: uri
      description: Avatar image URL
    status:
      type: string
      enum: [ACTIVE, INACTIVE, SUSPENDED, DEACTIVATED]
      example: "ACTIVE"
    presence:
      type: string
      enum: [online, away, busy, offline]
      description: Current presence status
      example: "online"

UserResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
      description: Unique user identifier
      example: "550e8400-e29b-41d4-a716-446655440000"
    email:
      type: string
      format: email
      description: User email address
      example: "user@example.com"
    username:
      type: string
      description: Unique username
      example: "johndoe"
    displayName:
      type: string
      description: Display name
      example: "John Doe"
    avatarUrl:
      type: string
      format: uri
      description: Avatar image URL
    phone:
      type: string
      description: Phone number
    timezone:
      type: string
      description: User timezone (IANA format)
      example: "America/New_York"
    locale:
      type: string
      description: Preferred locale
      example: "en-US"
    status:
      type: string
      enum: [ACTIVE, INACTIVE, SUSPENDED, DEACTIVATED]
      description: User status
      example: "ACTIVE"
    emailVerified:
      type: boolean
      description: Email verification status
    phoneVerified:
      type: boolean
      description: Phone verification status
    lastLoginAt:
      type: string
      format: date-time
      description: Last login timestamp
    createdAt:
      type: string
      format: date-time
      description: Account creation timestamp
    updatedAt:
      type: string
      format: date-time
      description: Last update timestamp

UserSummaryResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
      example: "550e8400-e29b-41d4-a716-446655440000"
    username:
      type: string
      example: "johndoe"
    displayName:
      type: string
      example: "John Doe"
    avatarUrl:
      type: string
      format: uri
    status:
      type: string
      enum: [ACTIVE, INACTIVE, SUSPENDED, DEACTIVATED]

ProfileResponse:
  type: object
  properties:
    userId:
      type: string
      format: uuid
    title:
      type: string
      example: "Senior Software Engineer"
    department:
      type: string
      example: "Engineering"
    location:
      type: string
      example: "San Francisco, CA"
    bio:
      type: string
      example: "Passionate about building scalable systems."
    customStatus:
      type: string
      example: "In a meeting"
    statusEmoji:
      type: string
      example: "ðŸ“…"
    statusExpiry:
      type: string
      format: date-time
    pronouns:
      type: string
      example: "he/him"
    birthday:
      type: string
      format: date-time
    linkedinUrl:
      type: string
      format: uri
    twitterUrl:
      type: string
      format: uri
    githubUrl:
      type: string
      format: uri
    updatedAt:
      type: string
      format: date-time

PreferencesResponse:
  type: object
  properties:
    userId:
      type: string
      format: uuid
    pushEnabled:
      type: boolean
    emailEnabled:
      type: boolean
    smsEnabled:
      type: boolean
    desktopNotifications:
      type: boolean
    soundEnabled:
      type: boolean
    quietHoursStart:
      type: string
      format: time
    quietHoursEnd:
      type: string
      format: time
    quietHoursEnabled:
      type: boolean
    theme:
      type: string
      example: "dark"
    language:
      type: string
      example: "en"
    compactMode:
      type: boolean
    sidebarCollapsed:
      type: boolean
    showUnreadOnly:
      type: boolean
    messagePreview:
      type: boolean
    enterToSend:
      type: boolean
    markdownEnabled:
      type: boolean
    emojiSuggestionsEnabled:
      type: boolean
    showOnlineStatus:
      type: boolean
    showTypingIndicator:
      type: boolean
    showReadReceipts:
      type: boolean
    reducedMotion:
      type: boolean
    highContrast:
      type: boolean
    fontSize:
      type: integer
    customSettings:
      type: object
      additionalProperties: true
    updatedAt:
      type: string
      format: date-time

PageResponse:
  type: object
  properties:
    content:
      type: array
      items:
        $ref: '#/UserSummaryResponse'
    page:
      type: integer
      description: Current page number
    size:
      type: integer
      description: Page size
    totalElements:
      type: integer
      format: int64
      description: Total number of elements
    totalPages:
      type: integer
      description: Total number of pages
    first:
      type: boolean
      description: Is this the first page
    last:
      type: boolean
      description: Is this the last page

# API Response Wrappers

ApiResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    message:
      type: string
      example: "User created"
    data:
      $ref: '#/UserResponse'
    timestamp:
      type: string
      format: date-time

PagedApiResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    data:
      $ref: '#/PageResponse'
    timestamp:
      type: string
      format: date-time

BatchApiResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    data:
      type: array
      items:
        $ref: '#/UserSummaryResponse'
    timestamp:
      type: string
      format: date-time

ProfileApiResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    message:
      type: string
    data:
      $ref: '#/ProfileResponse'
    timestamp:
      type: string
      format: date-time

PreferencesApiResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    message:
      type: string
    data:
      $ref: '#/PreferencesResponse'
    timestamp:
      type: string
      format: date-time
